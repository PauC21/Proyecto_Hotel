{% extends 'base.html' %}

{% block title %}Lista de reservas{% endblock %}


{% block content %}
  <h2 class="titlex">Reservas</h2>
  <table>
    <thead>
      <tr>
      <th>NÂ° de habitaciÃ³n</th>
      <th>Huesped</th>
      <th>Fecha de llegada</th>
      <th>Fecha de salida</th>
      <th>Estado</th> 
      </tr>
    </thead>
    <tbody>
      {% for reservation in reservations %}
      <tr>
      <td><a class="linky" href="{% url 'reservation_detail' reservation.id %}">{{ reservation.room.room_number }} </a> </td>
      <td><a class="linky" href="{% url 'guest_detail' reservation.guest.id %}">{{ reservation.guest.first_name }} {{ reservation.guest.last_name }}</a></td>
      <td><a class="linky" href="{% url 'reservation_detail' reservation.id %}">{{ reservation.check_in_date }}</a></td>
      <td><a class="linky" href="{% url 'reservation_detail' reservation.id %}">{{ reservation.check_out_date }}</a></td>
      <td>
          {% if reservation.status == 'pending' %}
            <span style="color:yellow; font-weight:bold;">ğŸŸ  Pendiente de confirmaciÃ³n</span>

          {% elif reservation.status == 'confirmed' %}
            <span style="color:green; font-weight:bold;">ğŸŸ¢ Confirmada</span>

          {% elif reservation.status == 'cancelled' %}
            <span style="color:red; font-weight:bold;">ğŸ”´ Cancelada</span>

          {% elif reservation.status == 'check_in' %}
            <span style="color:green; font-weight:bold;">ğŸ”µ Check-In</span>

          {% elif reservation.status == 'check_out' %}
            <span style="color:gray; font-weight:bold;">âšª Check-Out</span>

          {% else %}
            {{ reservation.get_status_display }}
          {% endif %}
      </td>
      </tr>
      {% empty %}
      <p>Â¡No se ha encontrado ningÃºn registro! <a href="{% url 'reservation_create' %}" class="linky">Crear ReservaciÃ³n </a></p>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
